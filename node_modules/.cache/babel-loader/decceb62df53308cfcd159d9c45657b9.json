{"ast":null,"code":"var _jsxFileName = \"/Users/weistevenchen/.atom/.learn-ide/home/steven0608/codechallenge/upload/src/SearchUser.js\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\n\nvar SearchUser = function SearchUser(props) {\n  function handleBackToMainUserslist() {\n    props.noUserListFetchError();\n    props.backToMainList();\n  }\n\n  function handleSearchResult(data) {\n    if (!!data.message || data.items.length === 0) {\n      props.hasUserListFetchError();\n      props.handleUserListFetchError(\"No Result found, please try again\");\n    } else {\n      props.noUserListFetchError();\n      data.items.forEach(function (user) {\n        fetch(user.url).then(function (r) {\n          return r.json();\n        }).then(function (data) {\n          return props.fetchSearchUsers(data);\n        }).catch(function (data) {\n          return console.log(data);\n        });\n      });\n    }\n  }\n\n  function handleLoginSearch(event) {\n    event.preventDefault();\n    props.emptyResultList();\n    props.showSearchUserOuput();\n    var username = encodeURIComponent(props.userNameInput.trim());\n    var location = encodeURIComponent(props.locationInput.trim());\n    var url = \"https://api.github.com/search/users?q=\".concat(username, \"+repos:%3E\").concat(props.numberOfReposInput, \"+followers:%3E\").concat(props.numberOfFollowersInput, \"+location:%22\").concat(location, \"%22\");\n    fetch(url).then(function (r) {\n      return r.json();\n    }).then(function (data) {\n      return handleSearchResult(data);\n    }).catch(function (data) {\n      return console.log(data);\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"searchform\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleLoginSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Name:\", React.createElement(\"input\", {\n    type: \"text\",\n    value: props.userNameInput,\n    onChange: function onChange(event) {\n      return props.handleUserNameInput(event);\n    },\n    placeholder: \"searchname\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Repos:\", React.createElement(\"input\", {\n    type: \"number\",\n    value: props.numberOfReposInput,\n    onChange: function onChange(event) {\n      return props.handleReposInput(event);\n    },\n    placeholder: \"number of repos\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Location:\", React.createElement(\"input\", {\n    type: \"text\",\n    value: props.locationInput,\n    onChange: function onChange(event) {\n      return props.handleLocationInput(event);\n    },\n    placeholder: \"location\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Followers:\", React.createElement(\"input\", {\n    type: \"number\",\n    value: props.numberOfFollowersInput,\n    onChange: function onChange(event) {\n      return props.handleFollowersInput(event);\n    },\n    placeholder: \"number of followers\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    className: \"searchbutton\",\n    type: \"submit\",\n    value: \"Search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"backToMainList\",\n    onClick: handleBackToMainUserslist,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Back To Main Users List\")));\n};\n\nfunction mapStateToProps(state) {\n  return {\n    userNameInput: state.userNameInput,\n    numberOfReposInput: state.numberOfReposInput,\n    locationInput: state.locationInput,\n    numberOfFollowersInput: state.numberOfFollowersInput\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    handleUserNameInput: function handleUserNameInput(event) {\n      dispatch({\n        type: \"UPDATE_USER_NAME_INPUT\",\n        payload: event.target.value\n      });\n    },\n    handleReposInput: function handleReposInput(event) {\n      dispatch({\n        type: \"UPDATE_REPOS_INPUT\",\n        payload: event.target.value\n      });\n    },\n    handleLocationInput: function handleLocationInput(event) {\n      dispatch({\n        type: \"UPDATE_LOCATION_INPUT\",\n        payload: event.target.value\n      });\n    },\n    handleFollowersInput: function handleFollowersInput(event) {\n      dispatch({\n        type: \"UPDATE_FOLLOWERS_INPUT\",\n        payload: event.target.value\n      });\n    },\n    handleUserListFetchError: function handleUserListFetchError(data) {\n      dispatch({\n        type: \"FETCHING_ERROR\",\n        payload: data\n      });\n    },\n    hasUserListFetchError: function hasUserListFetchError() {\n      dispatch({\n        type: \"USER_LIST_FETCH_ERROR\"\n      });\n    },\n    noUserListFetchError: function noUserListFetchError() {\n      dispatch({\n        type: \"NO_USER_LIST_FETCH_ERROR\"\n      });\n    },\n    fetchSearchUsers: function fetchSearchUsers(data) {\n      dispatch({\n        type: \"GET_SEARCH_USERS\",\n        payload: data\n      });\n    },\n    emptyResultList: function emptyResultList() {\n      dispatch({\n        type: \"EMPTY_RESULT_LIST\"\n      });\n    },\n    showSearchUserOuput: function showSearchUserOuput() {\n      dispatch({\n        type: \"SHOW_SEARCH_USERS_OUTPUT\"\n      });\n    },\n    backToMainList: function backToMainList() {\n      dispatch({\n        type: \"SHOW_MAIN_USERS_LIST\"\n      });\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchUser);","map":{"version":3,"sources":["/Users/weistevenchen/.atom/.learn-ide/home/steven0608/codechallenge/upload/src/SearchUser.js"],"names":["React","connect","SearchUser","props","handleBackToMainUserslist","noUserListFetchError","backToMainList","handleSearchResult","data","message","items","length","hasUserListFetchError","handleUserListFetchError","forEach","user","fetch","url","then","r","json","fetchSearchUsers","catch","console","log","handleLoginSearch","event","preventDefault","emptyResultList","showSearchUserOuput","username","encodeURIComponent","userNameInput","trim","location","locationInput","numberOfReposInput","numberOfFollowersInput","handleUserNameInput","handleReposInput","handleLocationInput","handleFollowersInput","mapStateToProps","state","mapDispatchToProps","dispatch","type","payload","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from \"react-redux\";\n\n\n\nconst SearchUser =(props) => {\n\n  function handleBackToMainUserslist() {\n    props.noUserListFetchError()\n    props.backToMainList()\n  }\n\n  function handleSearchResult(data) {\n    if (!!data.message ||data.items.length===0) {\n        props.hasUserListFetchError()\n        props.handleUserListFetchError(\"No Result found, please try again\")\n    } else {\n        props.noUserListFetchError()\n        data.items.forEach(user=>{\n          fetch(user.url).then(r=>r.json()).then(data=>props.fetchSearchUsers(data)).catch(data=>console.log(data))\n        })\n    }\n  }\n\n  function handleLoginSearch(event){\n      event.preventDefault()\n      props.emptyResultList()\n      props.showSearchUserOuput()\n      const username=encodeURIComponent(props.userNameInput.trim())\n      const location = encodeURIComponent(props.locationInput.trim())\n      const url=`https://api.github.com/search/users?q=${username}+repos:%3E${props.numberOfReposInput}+followers:%3E${props.numberOfFollowersInput}+location:%22${location}%22`\n      fetch(url).then(r=>r.json()).then(data=>handleSearchResult(data)).catch(data=>console.log(data))\n  }\n\n  return(<div className=\"searchform\">\n          <form onSubmit={handleLoginSearch}>\n          <label>Name:\n              <input type=\"text\" value={props.userNameInput} onChange={(event) => props.handleUserNameInput(event)} placeholder=\"searchname\" required/>\n          </label>\n          <label>Repos:\n              <input type=\"number\" value={props.numberOfReposInput} onChange={(event) => props.handleReposInput(event)} placeholder=\"number of repos\" required/>\n          </label>\n          <label>Location:\n              <input type=\"text\" value={props.locationInput} onChange={(event) => props.handleLocationInput(event)} placeholder=\"location\" required/>\n          </label>\n          <label>Followers:\n              <input type=\"number\" value={props.numberOfFollowersInput} onChange={(event) => props.handleFollowersInput(event)} placeholder=\"number of followers\" required/>\n          </label>\n              <input className=\"searchbutton\" type=\"submit\" value=\"Search\"/>\n              <span className=\"backToMainList\" onClick={handleBackToMainUserslist}>Back To Main Users List</span>\n          </form>\n      </div>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {userNameInput: state.userNameInput,\n          numberOfReposInput: state.numberOfReposInput,\n          locationInput: state.locationInput,\n          numberOfFollowersInput: state.numberOfFollowersInput,\n        }\n      }\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    handleUserNameInput: (event) => {\n      dispatch({type: \"UPDATE_USER_NAME_INPUT\", payload: event.target.value})\n    },\n    handleReposInput: (event) => {\n      dispatch({type: \"UPDATE_REPOS_INPUT\", payload: event.target.value})\n    },\n    handleLocationInput: (event) => {\n      dispatch({type: \"UPDATE_LOCATION_INPUT\", payload: event.target.value})\n    },\n    handleFollowersInput: (event) => {\n      dispatch({type: \"UPDATE_FOLLOWERS_INPUT\", payload: event.target.value})\n    },\n    handleUserListFetchError:(data) =>{\n      dispatch({type:\"FETCHING_ERROR\",payload:data})\n    },\n    hasUserListFetchError:() =>{\n      dispatch({type:\"USER_LIST_FETCH_ERROR\"})\n    },\n    noUserListFetchError:() =>{\n      dispatch({type:\"NO_USER_LIST_FETCH_ERROR\"})\n    },\n    fetchSearchUsers: (data) => {\n      dispatch({type: \"GET_SEARCH_USERS\", payload: data})\n    },\n    emptyResultList: () => {\n      dispatch({type: \"EMPTY_RESULT_LIST\"})\n    },\n    showSearchUserOuput: () => {\n      dispatch({type: \"SHOW_SEARCH_USERS_OUTPUT\"})\n    },\n    backToMainList:()=>{\n      dispatch({type:\"SHOW_MAIN_USERS_LIST\"})\n    }\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(SearchUser)\n"]},"metadata":{},"sourceType":"module"}