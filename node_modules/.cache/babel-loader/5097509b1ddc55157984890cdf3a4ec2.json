{"ast":null,"code":"var _jsxFileName = \"/Users/weistevenchen/.atom/.learn-ide/home/steven0608/codechallenge/upload/src/UserList.js\";\nimport React, { Fragment } from 'react';\nimport { connect } from \"react-redux\";\nimport ShowUser from \"./ShowUser\";\nimport UUID from \"uuid\";\n\nvar UserList = function UserList(props) {\n  function handleUserslist(data) {\n    if (!!data.message) {\n      props.hasUserListFetchError();\n      props.handleUserListFetchError(data.message);\n    } else {\n      props.noUserListFetchError();\n      return data.forEach(function (user) {\n        fetch(user.url).then(function (r) {\n          return r.json();\n        }).then(function (data) {\n          return props.fetchUsers(data);\n        }).catch(function (data) {\n          return console.log(data);\n        });\n      });\n    }\n  }\n\n  function handleNextUserPageClick() {\n    props.emptyUser();\n    var nextPage = props.currentUserPage + 1;\n    var nextNum = (nextPage - 1) * 30;\n    console.log(nextNum);\n    console.log(\"next Page\", nextPage);\n    var url = \"https://api.github.com/users?since=\".concat(nextNum);\n    fetch(url).then(function (r) {\n      return r.json();\n    }).then(function (data) {\n      return handleUserslist(data);\n    });\n    props.updateUserCurrentPage(nextPage);\n  }\n\n  function handlePrevUserPageClick() {\n    if (props.currentUserPage > 1) {\n      var prevPage = props.currentUserPage - 1;\n      var nextNum = (prevPage - 1) * 30;\n      var url = \"https://api.github.com/users?since=\".concat(nextNum);\n      fetch(url).then(function (r) {\n        return r.json();\n      }).then(function (data) {\n        return handleUserslist(data);\n      });\n      props.updateUserCurrentPage(prevPage);\n    }\n  }\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, props.userListFetchError ? React.createElement(\"div\", {\n    className: \"ui red message\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, props.userListFetchMessage) : props.showSearchUser ? React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"ui six doubling cards\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, props.searchResultUserList.map(function (user) {\n    return React.createElement(ShowUser, {\n      user: user,\n      key: UUID(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    });\n  }))) : props.currentUserPage === 1 ? React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"ui six doubling cards\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, props.userList.map(function (user) {\n    return React.createElement(ShowUser, {\n      user: user,\n      key: UUID(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    });\n  })), React.createElement(\"div\", {\n    className: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"ui right labeled icon green basic button changeColor\",\n    onClick: handleNextUserPageClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Current Page: \", props.currentUserPage, \" Next\", React.createElement(\"i\", {\n    className: \"right chevron icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })))) : React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"ui six doubling cards\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, props.userList.map(function (user) {\n    return React.createElement(ShowUser, {\n      user: user,\n      key: UUID(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    });\n  })), React.createElement(\"div\", {\n    className: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"ui labeled icon red basic button changeColor\",\n    onClick: handlePrevUserPageClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"left chevron icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), \"Prev\"), React.createElement(\"span\", {\n    className: \"pageNum\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Current Page: \", props.currentUserPage), React.createElement(\"button\", {\n    className: \"ui right labeled icon green basic button changeColor\",\n    onClick: handleNextUserPageClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Next\", React.createElement(\"i\", {\n    className: \"right chevron icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })))));\n};\n\nfunction mapStateToProps(state) {\n  return {\n    userList: state.userList,\n    currentUserPage: state.currentUserPage,\n    userListFetchMessage: state.userListFetchMessage,\n    userListFetchError: state.userListFetchError,\n    showSearchUser: state.showSearchUser,\n    searchResultUserList: state.searchResultUserList\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    updateUserCurrentPage: function updateUserCurrentPage(data) {\n      dispatch({\n        type: \"UPDATE_USER_CURRENT_PAGE\",\n        payload: data\n      });\n    },\n    fetchUsers: function fetchUsers(data) {\n      dispatch({\n        type: \"GET_USERS\",\n        payload: data\n      });\n    },\n    emptyUser: function emptyUser() {\n      dispatch({\n        type: \"EMPTY_USERS\"\n      });\n    },\n    handleUserListFetchError: function handleUserListFetchError(data) {\n      dispatch({\n        type: \"FETCHING_ERROR\",\n        payload: data\n      });\n    },\n    hasUserListFetchError: function hasUserListFetchError() {\n      dispatch({\n        type: \"USER_LIST_FETCH_ERROR\"\n      });\n    },\n    noUserListFetchError: function noUserListFetchError() {\n      dispatch({\n        type: \"NO_USER_LIST_FETCH_ERROR\"\n      });\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserList);","map":{"version":3,"sources":["/Users/weistevenchen/.atom/.learn-ide/home/steven0608/codechallenge/upload/src/UserList.js"],"names":["React","Fragment","connect","ShowUser","UUID","UserList","props","handleUserslist","data","message","hasUserListFetchError","handleUserListFetchError","noUserListFetchError","forEach","user","fetch","url","then","r","json","fetchUsers","catch","console","log","handleNextUserPageClick","emptyUser","nextPage","currentUserPage","nextNum","updateUserCurrentPage","handlePrevUserPageClick","prevPage","userListFetchError","userListFetchMessage","showSearchUser","searchResultUserList","map","userList","mapStateToProps","state","mapDispatchToProps","dispatch","type","payload"],"mappings":"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","sourcesContent":["import React,{Fragment} from 'react';\nimport {connect} from \"react-redux\";\nimport ShowUser from \"./ShowUser\"\nimport UUID from \"uuid\"\n\n\n\nconst UserList =(props) => {\n\n\n    function handleUserslist(data) {\n      if (!!data.message) {\n        props.hasUserListFetchError()\n        props.handleUserListFetchError(data.message)\n      } else {\n        props.noUserListFetchError()\n        return data.forEach(user=>{\n        fetch(user.url).then(r=>r.json()).then(data=>props.fetchUsers(data)).catch(data=>console.log(data))\n      })\n      }\n    }\n\n    function handleNextUserPageClick() {\n      props.emptyUser()\n      const nextPage = props.currentUserPage +1\n      const nextNum = (nextPage - 1)* 30\n      console.log(nextNum)\n      console.log(\"next Page\", nextPage)\n      const url = `https://api.github.com/users?since=${nextNum}`\n      fetch(url).then(r=>r.json()).then(data=>handleUserslist(data))\n      props.updateUserCurrentPage(nextPage)\n    }\n\n    function handlePrevUserPageClick() {\n        if (props.currentUserPage >1) {\n          const prevPage = props.currentUserPage -1\n          const nextNum = (prevPage-1)*30\n          const url = `https://api.github.com/users?since=${nextNum}`\n          fetch(url).then(r=>r.json()).then(data=>handleUserslist(data))\n          props.updateUserCurrentPage(prevPage)\n        }\n    }\n\n\n  return(<Fragment>\n            {props.userListFetchError ?\n                <div  className=\"ui red message\">\n                  {props.userListFetchMessage}\n                </div>\n                :\n                props.showSearchUser ?\n                <Fragment>\n                  <div className=\"ui six doubling cards\">\n                    {props.searchResultUserList.map(user=>\n                    <ShowUser user={user} key={UUID()}/>\n                    )}\n                  </div>\n                </Fragment>\n                :\n                  props.currentUserPage === 1 ?\n                    <Fragment>\n                      <div className=\"ui six doubling cards\">\n                        {props.userList.map(user=>\n                          <ShowUser user={user} key={UUID()}/>\n                        )}\n                      </div>\n                      <div className=\"center\"><button className=\"ui right labeled icon green basic button changeColor\"\n                          onClick={handleNextUserPageClick}>Current Page: {props.currentUserPage} Next\n                            <i className=\"right chevron icon\"></i></button>\n                      </div>\n                    </Fragment>\n                    :\n                      <Fragment>\n                        <div className=\"ui six doubling cards\">\n                          {props.userList.map(user=>\n                            <ShowUser user={user} key={UUID()}/>\n                          )}\n                        </div>\n                            <div className=\"center\"><button className=\"ui labeled icon red basic button changeColor\" onClick={handlePrevUserPageClick}>\n                                <i className=\"left chevron icon\"></i>Prev</button><span className=\"pageNum\">Current Page: {props.currentUserPage}</span><button className=\"ui right labeled icon green basic button changeColor\" onClick={handleNextUserPageClick}>Next<i className=\"right chevron icon\"></i></button>\n                            </div>\n                      </Fragment>\n                    }\n                  </Fragment>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {userList: state.userList,\n          currentUserPage:state.currentUserPage,\n          userListFetchMessage:state.userListFetchMessage,\n          userListFetchError:state.userListFetchError,\n          showSearchUser:state.showSearchUser,\n          searchResultUserList:state.searchResultUserList,\n          }\n        }\n\nfunction mapDispatchToProps(dispatch) {\n\n  return {\n          updateUserCurrentPage: (data) => {\n            dispatch({type: \"UPDATE_USER_CURRENT_PAGE\",payload:data})\n        },\n        fetchUsers: (data) => {\n          dispatch({type: \"GET_USERS\", payload: data})\n        },\n        emptyUser: () => {\n          dispatch({type: \"EMPTY_USERS\"})\n        },\n        handleUserListFetchError:(data) =>{\n          dispatch({type:\"FETCHING_ERROR\",payload:data})\n        },\n        hasUserListFetchError:() =>{\n          dispatch({type:\"USER_LIST_FETCH_ERROR\"})\n        },\n        noUserListFetchError:() =>{\n          dispatch({type:\"NO_USER_LIST_FETCH_ERROR\"})\n        },\n\n      }\n  }\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(UserList)\n"]},"metadata":{},"sourceType":"module"}