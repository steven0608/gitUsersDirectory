{"ast":null,"code":"var _jsxFileName = \"/Users/weistevenchen/.atom/.learn-ide/home/steven0608/codechallenge/githubusers/src/RepoList.js\";\nimport React, { Fragment } from 'react';\nimport { connect } from \"react-redux\";\nimport UUID from \"uuid\";\nimport ShowRepo from \"./ShowRepo\";\n\nvar RepoList = function RepoList(props) {\n  function handleRepolist(data) {\n    props.updateRepoList(data);\n\n    if (data.length === 0) {\n      props.noMoreRepo();\n    }\n  }\n\n  function handleNextPageClick() {\n    var nextPage = props.currentRepoPage + 1;\n    var url = \"https://api.github.com/users/\".concat(props.selectedUser, \"/repos?page=\").concat(nextPage, \"&per_page=20\");\n    fetch(url).then(function (r) {\n      return r.json();\n    }).then(function (data) {\n      return handleRepolist(data);\n    });\n    props.updateCurrentRepopage(nextPage);\n  }\n\n  function handlePrevPageClick() {\n    if (props.endOfRepos) {\n      props.noMoreRepo();\n    }\n\n    if (props.currentRepoPage > 1) {\n      var prevPage = props.currentRepoPage - 1;\n      var url = \"https://api.github.com/users/\".concat(props.selectedUser, \"/repos?page=\").concat(prevPage, \"&per_page=20\");\n      fetch(url).then(function (r) {\n        return r.json();\n      }).then(function (data) {\n        return props.updateRepoList(data);\n      });\n      props.updateCurrentRepopage(prevPage);\n    }\n  }\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"center\", {\n    className: \"black\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"repositories List\"), React.createElement(\"div\", {\n    className: \"ui list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, props.reposList.map(function (repo) {\n    return React.createElement(ShowRepo, {\n      repo: repo,\n      key: UUID(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    });\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, props.endOfRepos ? React.createElement(\"div\", {\n    className: \"ui red message\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"No More Repos\") : null, props.currentRepoPage === 1 ? React.createElement(\"div\", {\n    className: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"ui right labeled icon green basic button\",\n    onClick: handleNextPageClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Next\", React.createElement(\"i\", {\n    className: \"right chevron icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }))) : props.endOfRepos ? React.createElement(\"div\", {\n    className: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \">\", React.createElement(\"button\", {\n    className: \"ui labeled icon red basic button\",\n    onClick: handlePrevPageClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"left chevron icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), \"Prev\")) : React.createElement(\"div\", {\n    className: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \">\", React.createElement(\"button\", {\n    className: \"ui labeled icon red basic button\",\n    onClick: handlePrevPageClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"left chevron icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), \"Prev\"), React.createElement(\"button\", {\n    className: \"ui right labeled icon green basic button\",\n    onClick: handleNextPageClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Next\", React.createElement(\"i\", {\n    className: \"right chevron icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  })))));\n};\n\nfunction mapStateToProps(state) {\n  return {\n    reposList: state.reposList,\n    selectedUser: state.selectedUser,\n    currentRepoPage: state.currentRepoPage,\n    endOfRepos: state.endOfRepos\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    updateCurrentRepopage: function updateCurrentRepopage(data) {\n      dispatch({\n        type: \"UPDATE_CURRENT_REPO_PAGE\",\n        payload: data\n      });\n    },\n    updateRepoList: function updateRepoList(data) {\n      dispatch({\n        type: \"UPDATE_REPO_LIST\",\n        payload: data\n      });\n    },\n    noMoreRepo: function noMoreRepo(data) {\n      dispatch({\n        type: \"NO_MORE_REPO\"\n      });\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RepoList);","map":{"version":3,"sources":["/Users/weistevenchen/.atom/.learn-ide/home/steven0608/codechallenge/githubusers/src/RepoList.js"],"names":["React","Fragment","connect","UUID","ShowRepo","RepoList","props","handleRepolist","data","updateRepoList","length","noMoreRepo","handleNextPageClick","nextPage","currentRepoPage","url","selectedUser","fetch","then","r","json","updateCurrentRepopage","handlePrevPageClick","endOfRepos","prevPage","reposList","map","repo","mapStateToProps","state","mapDispatchToProps","dispatch","type","payload"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAIA,IAAMC,QAAQ,GAAE,SAAVA,QAAU,CAACC,KAAD,EAAW;AAGzB,WAASC,cAAT,CAAwBC,IAAxB,EAA6B;AACzBF,IAAAA,KAAK,CAACG,cAAN,CAAqBD,IAArB;;AACA,QAAGA,IAAI,CAACE,MAAL,KAAe,CAAlB,EAAoB;AAChBJ,MAAAA,KAAK,CAACK,UAAN;AACH;AACJ;;AAGD,WAASC,mBAAT,GAA8B;AAC5B,QAAMC,QAAQ,GAAGP,KAAK,CAACQ,eAAN,GAAwB,CAAzC;AACA,QAAMC,GAAG,0CAAmCT,KAAK,CAACU,YAAzC,yBAAoEH,QAApE,iBAAT;AACAI,IAAAA,KAAK,CAACF,GAAD,CAAL,CAAWG,IAAX,CAAgB,UAAAC,CAAC;AAAA,aAAEA,CAAC,CAACC,IAAF,EAAF;AAAA,KAAjB,EAA6BF,IAA7B,CAAkC,UAAAV,IAAI;AAAA,aAAED,cAAc,CAACC,IAAD,CAAhB;AAAA,KAAtC;AACAF,IAAAA,KAAK,CAACe,qBAAN,CAA4BR,QAA5B;AACD;;AAID,WAASS,mBAAT,GAA8B;AAC5B,QAAIhB,KAAK,CAACiB,UAAV,EAAsB;AACpBjB,MAAAA,KAAK,CAACK,UAAN;AACD;;AACD,QAAIL,KAAK,CAACQ,eAAN,GAAsB,CAA1B,EAA6B;AAC3B,UAAMU,QAAQ,GAAGlB,KAAK,CAACQ,eAAN,GAAwB,CAAzC;AACA,UAAMC,GAAG,0CAAmCT,KAAK,CAACU,YAAzC,yBAAoEQ,QAApE,iBAAT;AACAP,MAAAA,KAAK,CAACF,GAAD,CAAL,CAAWG,IAAX,CAAgB,UAAAC,CAAC;AAAA,eAAEA,CAAC,CAACC,IAAF,EAAF;AAAA,OAAjB,EAA6BF,IAA7B,CAAkC,UAAAV,IAAI;AAAA,eAAEF,KAAK,CAACG,cAAN,CAAqBD,IAArB,CAAF;AAAA,OAAtC;AACAF,MAAAA,KAAK,CAACe,qBAAN,CAA4BG,QAA5B;AACD;AACF;;AAED,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,SAAS,EAAC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGlB,KAAK,CAACmB,SAAN,CAAgBC,GAAhB,CAAoB,UAAAC,IAAI;AAAA,WACvB,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAEA,IAAhB;AAAsB,MAAA,GAAG,EAAExB,IAAI,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADuB;AAAA,GAAxB,CADH,CAFJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCG,KAAK,CAACiB,UAAN,GACC;AAAM,IAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,GAKC,IANF,EAQCjB,KAAK,CAACQ,eAAN,KAA0B,CAA1B,GACC;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwB;AAAQ,IAAA,SAAS,EAAC,0CAAlB;AAA6D,IAAA,OAAO,EAAEF,mBAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA+F;AAAG,IAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA/F,CAAxB,CADD,GAGGN,KAAK,CAACiB,UAAN,GACA;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAyB;AAAQ,IAAA,SAAS,EAAC,kCAAlB;AAAqD,IAAA,OAAO,EAAED,mBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmF;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAnF,SAAzB,CADA,GAGF;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAyB;AAAQ,IAAA,SAAS,EAAC,kCAAlB;AAAqD,IAAA,OAAO,EAAEA,mBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmF;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAnF,SAAzB,EAA8J;AAAQ,IAAA,SAAS,EAAC,0CAAlB;AAA6D,IAAA,OAAO,EAAEV,mBAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA+F;AAAG,IAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA/F,CAA9J,CAdF,CAPJ,CADF;AA2BD,CA3DD;;AA6DA,SAASgB,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AAACJ,IAAAA,SAAS,EAAEI,KAAK,CAACJ,SAAlB;AACCT,IAAAA,YAAY,EAAEa,KAAK,CAACb,YADrB;AAECF,IAAAA,eAAe,EAACe,KAAK,CAACf,eAFvB;AAGCS,IAAAA,UAAU,EAACM,KAAK,CAACN;AAHlB,GAAP;AAMD;;AAED,SAASO,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAO;AACLV,IAAAA,qBAAqB,EAAE,+BAACb,IAAD,EAAU;AAC/BuB,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAAE,0BAAP;AAAmCC,QAAAA,OAAO,EAAEzB;AAA5C,OAAD,CAAR;AACD,KAHI;AAILC,IAAAA,cAAc,EAAE,wBAACD,IAAD,EAAU;AACxBuB,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAAE,kBAAP;AAA2BC,QAAAA,OAAO,EAAEzB;AAApC,OAAD,CAAR;AACD,KANI;AAOLG,IAAAA,UAAU,EAAE,oBAACH,IAAD,EAAU;AACpBuB,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAR;AACD;AATI,GAAP;AAYD;;AAED,eAAe9B,OAAO,CAAC0B,eAAD,EAAiBE,kBAAjB,CAAP,CAA4CzB,QAA5C,CAAf","sourcesContent":["import React, {Fragment }from 'react';\nimport {connect} from \"react-redux\";\nimport UUID from \"uuid\"\nimport ShowRepo from \"./ShowRepo\"\n\n\n\nconst RepoList =(props) => {\n\n\n  function handleRepolist(data){\n      props.updateRepoList(data)\n      if(data.length ===0){\n          props.noMoreRepo()\n      }\n  }\n\n\n  function handleNextPageClick(){\n    const nextPage = props.currentRepoPage + 1\n    const url = `https://api.github.com/users/${props.selectedUser}/repos?page=${nextPage}&per_page=20`\n    fetch(url).then(r=>r.json()).then(data=>handleRepolist(data))\n    props.updateCurrentRepopage(nextPage)\n  }\n\n\n\n  function handlePrevPageClick(){\n    if (props.endOfRepos) {\n      props.noMoreRepo()\n    }\n    if (props.currentRepoPage>1) {\n      const prevPage = props.currentRepoPage - 1\n      const url = `https://api.github.com/users/${props.selectedUser}/repos?page=${prevPage}&per_page=20`\n      fetch(url).then(r=>r.json()).then(data=>props.updateRepoList(data))\n      props.updateCurrentRepopage(prevPage)\n    }\n  }\n\n  return(\n    <Fragment>\n      <center className=\"black\">repositories List</center>\n        <div className=\"ui list\">\n          {props.reposList.map(repo=>\n            <ShowRepo repo={repo} key={UUID()}/>\n            )}\n          </div>\n        <div>\n        {props.endOfRepos ?\n          <div  className=\"ui red message\">\n          No More Repos\n          </div>\n          :\n          null\n        }\n        {props.currentRepoPage === 1 ?\n          <div className=\"center\"><button className=\"ui right labeled icon green basic button\" onClick={handleNextPageClick}>Next<i className=\"right chevron icon\"></i></button></div>\n          :\n            props.endOfRepos ?\n            <div className=\"center\">><button className=\"ui labeled icon red basic button\" onClick={handlePrevPageClick}><i className=\"left chevron icon\"></i>Prev</button></div>\n            :\n          <div className=\"center\">><button className=\"ui labeled icon red basic button\" onClick={handlePrevPageClick}><i className=\"left chevron icon\"></i>Prev</button><button className=\"ui right labeled icon green basic button\" onClick={handleNextPageClick}>Next<i className=\"right chevron icon\"></i></button></div>\n        }\n        </div>\n      </Fragment>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {reposList: state.reposList,\n          selectedUser: state.selectedUser,\n          currentRepoPage:state.currentRepoPage,\n          endOfRepos:state.endOfRepos,\n\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    updateCurrentRepopage: (data) => {\n      dispatch({type: \"UPDATE_CURRENT_REPO_PAGE\", payload: data})\n    },\n    updateRepoList: (data) => {\n      dispatch({type: \"UPDATE_REPO_LIST\", payload: data})\n    },\n    noMoreRepo: (data) => {\n      dispatch({type: \"NO_MORE_REPO\"})\n    },\n\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(RepoList)\n"]},"metadata":{},"sourceType":"module"}